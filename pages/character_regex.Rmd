---
title:  |  
  ![](../images/R Handbook Logo.png)
author: ""
date: "Produced `r format(Sys.time(), '%A %d %B %Y')`"
output:
  html_document:
    code_folding: show
    highlight: zenburn
    number_sections: no
    theme: sandstone
    toc: yes
    toc_collapse: no
    toc_depth: 3
    toc_float: yes
params:
    run_page_ind: TRUE
knit: (function(inputFile, encoding) {
  rmarkdown::render(inputFile, encoding = encoding, output_dir = "_outputs_knitted") })
---

```{r, child= '_page_setup.Rmd', eval = params$run_page_ind, include = F}
```

<!-- ======================================================= -->
<!-- ======================================================= -->
<!-- ======================================================= -->
# Character manipulation/search (regex) {#regex .tabset .tabset-fade}  

The Page title should be succinct. Consider adding a tag with no spaces into the curly brackets, such as below. This can be used for internal links within the handbook. 
`{#title_tag .tabset .tabset-fade}`

<!-- ======================================================= -->
## Overview {.tabset .tabset-fade .tabset-pills}

1. Syntax/regex
2. Splitting string variables
3. Searcihg ICD codes chief complaints
4. classifing occupations (Santa Clara County example)



Keep the title of this section as "Overview".  
This tab should include:  

* Textual overview of the purpose of this page  
* Small image showing outputs   



<!-- ======================================================= -->
## Preparation {.tabset .tabset-fade .tabset-pills}

```{r}
pacman::p_load(stringr)
```

https://cran.r-project.org/web/packages/stringr/vignettes/stringr.html

https://evoldyn.gitlab.io/evomics-2018/ref-sheets/R_strings.pdf


<!-- ======================================================= -->
### sub-tab 1 {.tabset .tabset-fade .tabset-pills}

ADD leading zeros (e.g. for times minutes/hours)
hours = str_pad(hours, 2, pad = "0"),             # pad with leading zeros


tolower()
toupper()
Title case


<!-- ======================================================= -->
## Access and assess {.tabset .tabset-fade .tabset-pills}

```{r}
str_length("abc")
#also, nchar() from base R
```


**Components of `str_sub()`:**  

1) character vector(s)  
2) start position  
3) end position  

Is a position number is positive, the position is counted from the left of the string. If a position number is negative, it is counted from the right end of the string. Positions outside the string will be truncated. Position numbers are inclusive.  


```{r}
str_sub("pneumonia", 3, 3)

str_sub("pneumonia", 0, 0)

str_sub("pneumonia", 6, -1)

str_sub("pneumonia", -5, -1)

```




<!-- ======================================================= -->
## Modify {.tabset .tabset-fade .tabset-pills}

`str_sub()` can be used to modify as well: 

```{r}
x <- "pneumonia"
str_sub(x, 3, 3) <- "X"
x
```

<!-- ======================================================= -->
### Option 1 sub-tab {.tabset .tabset-fade .tabset-pills}

Sub-tabs if necessary. Re-name as needed.



<!-- ======================================================= -->
## Option 2 {.tabset .tabset-fade .tabset-pills}

This tab can be re-named. 
This tab should demonstrate execution of the task a more standard/core package (e.g. ggplot2, or base R) that allows for more flexibility in the output or more package stability. For example, showing how to create an epicurve using *ggplot2*. 


<!-- ======================================================= -->
### Option 2 sub-tab {.tabset .tabset-fade .tabset-pills}

Sub-tabs if necessary. Re-name as needed.



<!-- ======================================================= -->
## Resources {.tabset .tabset-fade .tabset-pills}

This tab should stay with the name "Resources".
Links to other online tutorials or resources.




```{r, child= '_page_closeout.Rmd', eval = params$run_page_ind == F, include = F}
```


