<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>1 R Markdown reports | The Epidemiologist R Handbook</title>
<meta name="author" content="the handbook team">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.2"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/header-attrs-2.7/header-attrs.js"></script><script src="libs/jquery-3.5.1/jquery-3.5.1.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.5.3/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.5.3/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.2.4/tabs.js"></script><script src="libs/bs3compat-0.2.4/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="libs/htmlwidgets-1.5.3/htmlwidgets.js"></script><link href="libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet">
<script src="libs/datatables-binding-0.15/datatables.js"></script><link href="libs/dt-core-1.10.20/css/jquery.dataTables.min.css" rel="stylesheet">
<link href="libs/dt-core-1.10.20/css/jquery.dataTables.extra.css" rel="stylesheet">
<script src="libs/dt-core-1.10.20/js/jquery.dataTables.min.js"></script><link href="libs/nouislider-7.0.10/jquery.nouislider.min.css" rel="stylesheet">
<script src="libs/nouislider-7.0.10/jquery.nouislider.min.js"></script><link href="libs/selectize-0.12.0/selectize.bootstrap3.css" rel="stylesheet">
<script src="libs/selectize-0.12.0/selectize.min.js"></script><link href="libs/crosstalk-1.1.1/css/crosstalk.css" rel="stylesheet">
<script src="libs/crosstalk-1.1.1/js/crosstalk.min.js"></script><script src="https://cdn.jsdelivr.net/autocomplete.js/0/autocomplete.jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/mark.js@8.11.1/dist/mark.min.js"></script><!-- CSS --><link rel="stylesheet" href="style_bs4.css">
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">The Epidemiologist R Handbook</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html"></a></li>
<li class="book-part">Preview pages</li>
<li><a class="active" href="r-markdown-reports.html"><span class="header-section-number">1</span> R Markdown reports</a></li>
<li><a class="" href="dashboards-with-r-markdown.html"><span class="header-section-number">2</span> Dashboards with R Markdown</a></li>
<li><a class="" href="organizing-routine-reports.html"><span class="header-section-number">3</span> Organizing routine reports</a></li>
</ul>

        <div class="book-extra">
          
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="r-markdown-reports" class="section level1" number="1">
<h1>
<span class="header-section-number">1</span> R Markdown reports<a class="anchor" aria-label="anchor" href="#r-markdown-reports"><i class="fas fa-link"></i></a>
</h1>
<p>R Markdown is a fantastic tool for creating automated, reproducible, and share-worthy outputs. It can generate static or interactive outputs, in the form of html, word, pdf, powerpoint, and others.</p>
<!-- ======================================================= -->
<div id="overview" class="section level2" number="1.1">
<h2>
<span class="header-section-number">1.1</span> Overview<a class="anchor" aria-label="anchor" href="#overview"><i class="fas fa-link"></i></a>
</h2>
<p>Using R markdown will allow you easily recreate an entire formatted document, including tables/figures/text, using new data (e.g. daily surveillance reports) and/or subsets of data (e.g. reports for specific geographies).</p>
<p>This guide will go through the basics. See ‘resources’ tab for further info. See also the next chapter on ‘organising routine reports’ to see how additional packages can help you design your workflow and use of markdown reports.</p>
<!-- ======================================================= -->
</div>
<div id="preparation" class="section level2" number="1.2">
<h2>
<span class="header-section-number">1.2</span> Preparation<a class="anchor" aria-label="anchor" href="#preparation"><i class="fas fa-link"></i></a>
</h2>
<p><strong>Background to R Markdown</strong></p>
<p>To explain some of the concepts and packages involved:</p>
<ul>
<li>
<strong>Markdown</strong> is a “language” which uses syntax that allows design of a document using plain text, so that it can be converted to html and other formats. It is not specific to R, and usually a markdown file has an ‘.md’ extension.</li>
<li>
<strong>R Markdown</strong>: This is an extension of markdown that <em>is</em> specific to R, with file extensions ‘.Rmd’. This allows R code to be embedded in ‘chunks’ so that the code itself can be run, rather than just having a text document.</li>
<li>
<strong>Rmarkdown - the package</strong>: This is used by R to render the .Rmd file into the desire output. However its focus is the markdown (text) syntax, so we also need…</li>
<li>
<strong>Knitr</strong>: This package will read the code chunks, execute it, and ‘knit’ it back into the document. This is how tables and graphs are included alongside the text.</li>
<li>
<strong>Pandoc</strong>: Finally, pandoc is needed to actually convert documents into e.g. word/pdf/powerpoint etc. It is separate from R.
In sum, the process involves feeding the .Rmd file to knitr, which executes the R code chunks and created a new .md (markdown) file which includes the R code and its rendered output. The .md file is the processed by pandoc to create the finished product: an MS Word document, a powerpoint document, pdf, etc.</li>
</ul>
<div class="inline-figure"><img src="images/markdown/0_rmd.png" width="100%" style="display: block; margin: auto;"></div>
<p>In sum, the process involves feeding the .Rmd file to knitr, which executes the R code chunks and created a new .md (markdown) file which includes the R code and its rendered output. The .md file is the processed by pandoc to create the finished product: an MS Word document, a powerpoint document, pdf, etc.</p>
<p>(source: <a href="https://rmarkdown.rstudio.com/authoring_quick_tour.html" class="uri">https://rmarkdown.rstudio.com/authoring_quick_tour.html</a>):</p>
<p><strong>Installation</strong></p>
<p>To create R Markdown, you need to have the following installed:</p>
<ul>
<li>The Rmarkdown package, as described above: <code><a href="https://rdrr.io/r/utils/install.packages.html">install.packages('rmarkdown')</a></code>
</li>
<li>Pandoc, which should come with RStudio. If you are not using RStudio, you can download it here: <a href="http://pandoc.org" class="uri">http://pandoc.org</a>.</li>
<li>If you want to generate PDF output (a bit trickier), you will need to install LaTeX. For R Markdown users who have not installed LaTeX before, we recommend that you install TinyTeX (<a href="https://yihui.name/tinytex/" class="uri">https://yihui.name/tinytex/</a>):</li>
</ul>
<div class="sourceCode" id="cb1"><pre class="sourceCode md"><code class="sourceCode markdown"><span id="cb1-1"><a href="r-markdown-reports.html#cb1-1" aria-hidden="true" tabindex="-1"></a>install.packages('tinytex')</span>
<span id="cb1-2"><a href="r-markdown-reports.html#cb1-2" aria-hidden="true" tabindex="-1"></a>tinytex::install_tinytex()  # install TinyTeX</span></code></pre></div>
<!-- ======================================================= -->
</div>
<div id="getting-started" class="section level2" number="1.3">
<h2>
<span class="header-section-number">1.3</span> Getting started<a class="anchor" aria-label="anchor" href="#getting-started"><i class="fas fa-link"></i></a>
</h2>
<div id="starting-a-new-rmd-file" class="section level3" number="1.3.1">
<h3>
<span class="header-section-number">1.3.1</span> Starting a new Rmd file<a class="anchor" aria-label="anchor" href="#starting-a-new-rmd-file"><i class="fas fa-link"></i></a>
</h3>
<p>In RStudio, open a new R markdown file, starting with ‘File’, then ‘New file’ then ‘R markdown…’.</p>
<div class="inline-figure"><img src="images/markdown/1_gettingstarted.png" width="50%" style="display: block; margin: auto;"></div>
<p>R Studio will give you some output options to pick from. In the example below we click on “html” because we want to create an html document. The title and the author names are unimportant. Don’t worry if the output document type you want is not one of these, you can just pick one and make changes later.</p>
<div class="inline-figure"><img src="images/markdown/1_gettingstartedB.png" width="50%" style="display: block; margin: auto;"></div>
<p>This will open up a new .Rmd document, while we will go through in the next section.</p>
</div>
<div id="important-to-know" class="section level3" number="1.3.2">
<h3>
<span class="header-section-number">1.3.2</span> Important to know<a class="anchor" aria-label="anchor" href="#important-to-know"><i class="fas fa-link"></i></a>
</h3>
<p><strong>The working directory</strong></p>
<p>The working directory of a markdown file is wherever the Rmd file itself is saved. For instance, if the R project is within <code>~/Documents/projectX</code> and the Rmd file itself is in a subfolder <code>~/Documents/projectX/markdownfiles/markdown.Rmd</code>, the code <code>read.csv(“data.csv”)</code> within the markdown will look for a csv file in the <code>markdownfiles</code> folder, and not the root project folder where scripts within projects would normally automatically look.</p>
<p>To refer to files elsewhere, you will either need to use the full file path or use the ‘here’ package, which sets the working directory to the root folder of the project. For instance, to load the csv within the <code>projectX</code> folder, the code would be
<code>read.csv(here(“data.csv”))</code>.</p>
<p>Note that <code><a href="https://rdrr.io/r/base/getwd.html">setwd()</a></code> is not recommended – it only works within the chunk that it is written in.</p>
<p><strong>Working on a drive vs your computer</strong></p>
<p>Because R Markdown can run into pandoc issues when running on a shared network drive, it is recommended that your folder is on your local machine, e.g. in a project within ‘My Documents’. If you use Git (much recommended!), this will be familiar.</p>
<!-- ======================================================= -->
</div>
</div>
<div id="the-r-markdown-file" class="section level2" number="1.4">
<h2>
<span class="header-section-number">1.4</span> The R Markdown file<a class="anchor" aria-label="anchor" href="#the-r-markdown-file"><i class="fas fa-link"></i></a>
</h2>
<p>An R Markdown document looks like and can be edited just like a standard R script, in R Studio. When you start a new markdown file, R Studio tries to be helpful. Rather than a blank canvas, a new document with text explaining the different sections shows up.</p>
<p>The below is what appears when starting a new Rmd file intended to produce an html (as per previous section).</p>
<div class="inline-figure"><img src="images/markdown/2_defaultRMD.png" width="100%" style="display: block; margin: auto;"></div>
<p>As you can see, there are three basic components to an Rmd file.</p>
<div id="yaml-metadata" class="section level3" number="1.4.1">
<h3>
<span class="header-section-number">1.4.1</span> <strong>1. YAML metadata</strong><a class="anchor" aria-label="anchor" href="#yaml-metadata"><i class="fas fa-link"></i></a>
</h3>
<p>Referred to as the ‘YAML metadata’ or just ‘YAML’, this is at the top of the R Markdown document between two ‘- - -‘s. It will tell your Rmd file what type of output to produce, formatting preferences, and other metadata such as document title, author, and date. There are other uses not mentioned here (but referred to in ‘Producing an output’). Note that indentation matters; tabs are not accepted but spaces are.</p>
<p>In the example above, because we clicked that our default output would be an html file, we can see that the YAML says ‘html_document’. However we can also change this to say ‘powerpoint_presentation’ or ‘word_document’ or even ‘pdf_document’.</p>
</div>
<div id="text" class="section level3" number="1.4.2">
<h3>
<span class="header-section-number">1.4.2</span> <strong>2. Text</strong><a class="anchor" aria-label="anchor" href="#text"><i class="fas fa-link"></i></a>
</h3>
<p>This is the narrative of your document, including the titles. It is written in the markdown language, used across many different programmes. This means you can add basic formatting, for instance:</p>
<ul>
<li>
<code>_text_</code> or <code>*text*</code> to <em>italicise</em>
</li>
<li>
<code>**text**</code> for <strong>bold text</strong>
</li>
<li>
<code>#</code> at the start of a new line for a title (and <code>##</code> for second-level title, <code>##</code> for third-level title etc)</li>
<li>
<code><a href="https://rdrr.io/r/base/Arithmetic.html">*</a></code> at the start of a new line for bullet points</li>
<li>
<code>text</code> to display text as code (as above)</li>
</ul>
<p>The actual appearance of the font can be set by using specific templates (specified in the YAML metadata; see example tabs).</p>
<p>You can also include minimal R code within backwards ticks, again specifying ‘R’ so RStudio knows to evaluate the code. The example below uses code for the current date to evaluate into a printed date.</p>
<div class="inline-figure"><img src="images/markdown/2_text.png" width="80%" style="display: block; margin: auto;"></div>
</div>
<div id="code-chunks" class="section level3" number="1.4.3">
<h3>
<span class="header-section-number">1.4.3</span> <strong>3. Code chunks</strong><a class="anchor" aria-label="anchor" href="#code-chunks"><i class="fas fa-link"></i></a>
</h3>
<p>This is where the R code goes, for the actual data management and visualisation. To note:
These ‘chunks’ will appear to have a slightly different background colour from the narrative part of the document.</p>
<p>Each chunk always starts with three backticks and chunk information within squiggly brackets, and ends with three more backticks. You can create a new chunk by typing it out yourself and clicking ‘insert chunk’ at the top of your script editor.</p>
<p>Some notes about the content of the squiggly brackets:</p>
<ul>
<li>They start with ‘r’ to indicate that the language name within the chunk is r</li>
<li>Followed by the chunk name – these are not always necessary but can help you organise your work. Note that if you name your chunks, you should ALWAYS use unique names or else R will complain when you try to render.</li>
<li>It can include other options too, but many of these can be configured with point-and-click using the setting buttons at the top right of the chunk. Here, you can specify which parts of the chunk you want the rendered document to include, namely the code, the outputs, and the warnings. This will come out as written preferences within the squiggly brackets, e.g. ‘echo=FALSE’ if you specify you want to ‘Show output only’.</li>
</ul>
<p>For global options to be applied to all chunks, you can set this up in your very first chunk. For instance, so that only the outputs are shown for each code chunk and not the code itself, you can write <code>knitr::opts_chunk$set(echo = FALSE)</code>. This is what R Studio automatically includes in its default Rmd file.</p>
<p>There are also two arrows at the top right of each chunk, which are useful to run code within a chunk, or all code in prior chunks. Hover over them to see what they do.</p>
<div class="inline-figure"><img src="images/markdown/3_chunk.png" width="80%" style="display: block; margin: auto;"></div>
</div>
<div id="combining-code-and-text" class="section level3" number="1.4.4">
<h3>
<span class="header-section-number">1.4.4</span> Combining code and text<a class="anchor" aria-label="anchor" href="#combining-code-and-text"><i class="fas fa-link"></i></a>
</h3>
<p>Above we showed how you can integrate dynamic values such as today’s date into the text. You can also use short functions (e.g. to calculate the min, median, max of a column) in the text, or integrate objects created within code chunks.</p>
<p>The following calculates the proportion of cases that are aged less than 18 years old, using tidyverse code, and feeds it into the text. We see how it looks when knitted to a word document.</p>
<div class="inline-figure"><img src="images/markdown/3_chunktext.png" width="100%" style="display: block; margin: auto;"></div>
<!-- ======================================================= -->
</div>
</div>
<div id="producing-an-r-markdown-output" class="section level2" number="1.5">
<h2>
<span class="header-section-number">1.5</span> Producing an R markdown output<a class="anchor" aria-label="anchor" href="#producing-an-r-markdown-output"><i class="fas fa-link"></i></a>
</h2>
<div id="r-markdown-workflow" class="section level3" number="1.5.1">
<h3>
<span class="header-section-number">1.5.1</span> R markdown workflow<a class="anchor" aria-label="anchor" href="#r-markdown-workflow"><i class="fas fa-link"></i></a>
</h3>
<p>Production of an R markdown will depend on how you design it. We describe these options below:</p>
<ul>
<li><p><strong>“Self-contained” R markdown</strong>: This is when everything you need to run the R markdown is contained within the Rmd file, including all the code chunks and package loading. This can also include sourcing other scripts, but they will still be run during the course of knitting your Rmd file. These are appropriate when you do not need to do much data processing (e.g. it brings in a clean or semi-clean data file) and the running of the file will not take too long.</p></li>
<li><p><strong>R markdown combined with pre-processing</strong>: This is when you pre-process objects that feed into your R markdown. For instance, you can load the packages, load and clean the data, and even create the graphs of interest. As long as this occurs in the same RStudio session and objects are saved to the environment, they can be called within the Rmd content. Then the R markdown itself will only be used for the final step, to produce the output with all the pre-processed objects. This is much easier to de-bug if something goes wrong.</p></li>
</ul>
<p>Generally, we recommend splitting up your code into different files, as it is horrible having to debug extremely long script, and especially horrible to debug an extremely long Rmd file. For example if there is an error within a code chunk, R will tell you which chunk had a problem, but will not tell you which line.</p>
<p>The workflow also concerns the overall folder structure, such as having an ‘output’ folder for created documents and an ‘input’ folder for cleaned data. We do not go into further detail of further structure here, but the ‘organising routine reports’ discusses this further.</p>
</div>
<div id="producing-a-complete-document" class="section level3" number="1.5.2">
<h3>
<span class="header-section-number">1.5.2</span> Producing a complete document<a class="anchor" aria-label="anchor" href="#producing-a-complete-document"><i class="fas fa-link"></i></a>
</h3>
<p>Now that you know the above, you can produce the document in the following ways:</p>
<p><strong>1) Knit from a separate script: </strong></p>
<p>Call the Rmd file using the ‘render’ function of the rmarkdown package in a separate script. In the example below, we pre-process a <code>data</code> object, which can be used within the Rmd content:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode md"><code class="sourceCode markdown"><span id="cb2-1"><a href="r-markdown-reports.html#cb2-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-2"><a href="r-markdown-reports.html#cb2-2" aria-hidden="true" tabindex="-1"></a>data &lt;- read.csv("datafile.csv") %&gt;%       # Load data and save to environment</span>
<span id="cb2-3"><a href="r-markdown-reports.html#cb2-3" aria-hidden="true" tabindex="-1"></a>  select(age, hospital, weight)            # Select limited columns</span>
<span id="cb2-4"><a href="r-markdown-reports.html#cb2-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-5"><a href="r-markdown-reports.html#cb2-5" aria-hidden="true" tabindex="-1"></a>rmarkdown::render("create_output.Rmd")     # Create Rmd file</span></code></pre></div>
<p>In its simplest form, this will save to the same folder as your Rmd file, and with the same file name aside from the file extension. For instance “create_output.Rmd” when knitted will create “create_output.docx” if you are knitting to a word document.</p>
<p>For better version control, you can add further options for the file name and location. For instance the following will save the output file within an ‘outputs’ subfolder, with the date in the file name. We use the paste0 function to do this, which will ‘paste’ together different strings with no space in between. For instance if it is April 10th 2021, the file name from below will be “Report_2021-04-10.docx”.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode md"><code class="sourceCode markdown"><span id="cb3-1"><a href="r-markdown-reports.html#cb3-1" aria-hidden="true" tabindex="-1"></a>rmarkdown::render(("create_output.Rmd"),  </span>
<span id="cb3-2"><a href="r-markdown-reports.html#cb3-2" aria-hidden="true" tabindex="-1"></a>                        output_file = paste0("outputs/Report_", Sys.Date(), ".docx")) </span></code></pre></div>
<p>As this file renders, the RStudio console will show you the rendering progress up to 100%, and a final message to indicate that the rendering is complete.</p>
<p><strong>2) Knit within R markdown: </strong></p>
<p>When you have the Rmd file open, press the ‘knit’ button at the top of the file. This is RStudio’s button for the <code>render</code> function of <strong>rmarkdown</strong>. This is only compatible with a self-contained R markdown, where all the needed components are within the file. It will not work to pre-process data or graphs and save them to the environment - the knitting will ignore these ‘external’ objects.</p>
<p>Just like knitting with a separate script, R Studio will you show the progress of the Rmd file. Except this time, this will appear within an ‘R Markdown’ tab in the same panel as your console. A complete document will automatically open when complete and this document will be saved in the same folder as your markdown, and with the same file name aside from the file extension. This is obviously not ideal for version control, as you will then rename the file yourself.</p>
<div class="inline-figure"><img src="images/markdown/4_progress.png" width="90%" style="display: block; margin: auto;"></div>
<!-- ======================================================= -->
</div>
</div>
<div id="parameterised-reports" class="section level2" number="1.6">
<h2>
<span class="header-section-number">1.6</span> Parameterised reports<a class="anchor" aria-label="anchor" href="#parameterised-reports"><i class="fas fa-link"></i></a>
</h2>
<p>We can use parameterisation to make our report dynamic, such that it can be run for a specific date or place or with certain knitting options. We focus on the basics here but there is a good amount of detail online: <a href="https://bookdown.org/yihui/rmarkdown/parameterized-reports.html" class="uri">https://bookdown.org/yihui/rmarkdown/parameterized-reports.html</a>.</p>
<p>Using the Ebola linelist as an example, let’s say we want to run a standard surveillance report for each hospital each day. We show how one can do this using parameters.</p>
<p><strong>Important: it is possible to do this using simple R objects rather than using the parameter structure, which we explain at the end of this section (Parameterisation without the params object). </strong></p>
<div id="using-parameters" class="section level3" number="1.6.1">
<h3>
<span class="header-section-number">1.6.1</span> Using parameters<a class="anchor" aria-label="anchor" href="#using-parameters"><i class="fas fa-link"></i></a>
</h3>
<p><strong>1) Declare parameters within the YAML</strong></p>
<p>Edit the YAML to specify that hospital name and date are parameters that change each time the report is run.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb4-1"><a href="r-markdown-reports.html#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="pp">---</span></span>
<span id="cb4-2"><a href="r-markdown-reports.html#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="fu">title</span><span class="kw">:</span><span class="at"> Surveillance report</span></span>
<span id="cb4-3"><a href="r-markdown-reports.html#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="fu">output</span><span class="kw">:</span><span class="at"> html_document</span></span>
<span id="cb4-4"><a href="r-markdown-reports.html#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="fu">params</span><span class="kw">:</span></span>
<span id="cb4-5"><a href="r-markdown-reports.html#cb4-5" aria-hidden="true" tabindex="-1"></a><span class="at"> </span><span class="fu">date</span><span class="kw">:</span><span class="at"> 2021-04-10</span></span>
<span id="cb4-6"><a href="r-markdown-reports.html#cb4-6" aria-hidden="true" tabindex="-1"></a><span class="at"> </span><span class="fu">hospital</span><span class="kw">:</span><span class="at"> Central Hospital</span></span>
<span id="cb4-7"><a href="r-markdown-reports.html#cb4-7" aria-hidden="true" tabindex="-1"></a><span class="pp">---</span></span></code></pre></div>
<p><strong>2) Use parameters within the .Rmd text and code</strong></p>
<p>These parameters are contained within a read-only list called <code>params</code>. To use these parameters in the code, you refer to them with the object name. Continuing the example, <code>params$hospital</code> will load “Central Hospital”.</p>
<p>Note that the <code>params$date</code> example saves the date as a string. You will need to use a function such as <code>as.Date</code> to change this to a date class.</p>
<p><strong>3) Run the Rmd file - basic</strong></p>
<p>To produce the file we can knit from within the document by simply clicking the ‘knit’ button as before, or we can call the Rmd file using the render function in a separate script, making sure to specify the parameters being used. Note than any parameter values here will overwrite the values within the YAML. We write the values in speech marks as they are string values.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode md"><code class="sourceCode markdown"><span id="cb5-1"><a href="r-markdown-reports.html#cb5-1" aria-hidden="true" tabindex="-1"></a>rmarkdown::render("surveillance_report.Rmd",  </span>
<span id="cb5-2"><a href="r-markdown-reports.html#cb5-2" aria-hidden="true" tabindex="-1"></a>                  output_file = paste0("outputs/Report_", Sys.Date(), ".docx"),</span>
<span id="cb5-3"><a href="r-markdown-reports.html#cb5-3" aria-hidden="true" tabindex="-1"></a>                  params = list(date = "2021-04-10", hospital  = "Central Hospital"))</span></code></pre></div>
<p><strong>4) Run the Rmd file - using the graphical user interface</strong></p>
<p>For a more interactive feel, we can also use the graphical user interface (GUI). To do this we can click the drop-down menu next to ‘knit’ and choose ‘knit with parameters’, or we can specify “ask” within the ‘params’ option in the render function, e.g.:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode md"><code class="sourceCode markdown"><span id="cb6-1"><a href="r-markdown-reports.html#cb6-1" aria-hidden="true" tabindex="-1"></a>rmarkdown::render("surveillance_report.Rmd",  </span>
<span id="cb6-2"><a href="r-markdown-reports.html#cb6-2" aria-hidden="true" tabindex="-1"></a>                  output_file = paste0("outputs/Report_", Sys.Date(), ".docx"),</span>
<span id="cb6-3"><a href="r-markdown-reports.html#cb6-3" aria-hidden="true" tabindex="-1"></a>                  params = “ask”)</span></code></pre></div>
<p>Either way a pop-up will appear allowing us to type in the date and hospital of interest.</p>
<div class="inline-figure"><img src="images/markdown/5_parametersGUI.png" width="50%" style="display: block; margin: auto;"></div>
<p>However, as this is subject to error and spelling mistakes, you may prefer to add restrictions to the parameters that can be selected. For instance we can introduce a drop-down so that only the possible hospitals can be selected. We do this again in the YAML:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb7-1"><a href="r-markdown-reports.html#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="pp">---</span></span>
<span id="cb7-2"><a href="r-markdown-reports.html#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="fu">title</span><span class="kw">:</span><span class="at"> Surveillance report</span></span>
<span id="cb7-3"><a href="r-markdown-reports.html#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="fu">output</span><span class="kw">:</span><span class="at"> html_document</span></span>
<span id="cb7-4"><a href="r-markdown-reports.html#cb7-4" aria-hidden="true" tabindex="-1"></a><span class="fu">params</span><span class="kw">:</span></span>
<span id="cb7-5"><a href="r-markdown-reports.html#cb7-5" aria-hidden="true" tabindex="-1"></a><span class="at"> </span><span class="fu">date</span><span class="kw">:</span><span class="at"> 2021-04-10</span></span>
<span id="cb7-6"><a href="r-markdown-reports.html#cb7-6" aria-hidden="true" tabindex="-1"></a><span class="at"> </span><span class="fu">hospital</span><span class="kw">:</span><span class="at"> </span></span>
<span id="cb7-7"><a href="r-markdown-reports.html#cb7-7" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">label</span><span class="kw">:</span><span class="at"> “Town:”</span></span>
<span id="cb7-8"><a href="r-markdown-reports.html#cb7-8" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">value</span><span class="kw">:</span><span class="at"> Central Hospital</span></span>
<span id="cb7-9"><a href="r-markdown-reports.html#cb7-9" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">input</span><span class="kw">:</span><span class="at"> select</span></span>
<span id="cb7-10"><a href="r-markdown-reports.html#cb7-10" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">choices</span><span class="kw">:</span><span class="at"> </span><span class="kw">[</span><span class="at">Central Hospital</span><span class="kw">,</span><span class="at"> Military Hospital</span><span class="kw">,</span><span class="at"> Port Hospital</span><span class="kw">,</span><span class="at"> St. Mark</span><span class="st">'s Maternity Hospital (SMMH)]</span></span>
<span id="cb7-11"><a href="r-markdown-reports.html#cb7-11" aria-hidden="true" tabindex="-1"></a><span class="st">---</span></span></code></pre></div>
<p>When knitting with the ‘knit parameters’ dropdown button or by running the render function, a window with a drop-down will then pop up:</p>
<div class="inline-figure"><img src="images/markdown/5_parametersGUIB.png" width="50%" style="display: block; margin: auto;"></div>
<p><strong>5) Example</strong></p>
<p>The following code uses basic parameters. We can see how the data is filtered to the specific hospital, and the titles refer to the correct hospital and date. We use the linelist_cleaned.rds file here, but it would be particularly appropriate if the linelist itself also had a datestamp within it to align with paramterised date.</p>
<div class="inline-figure"><img src="images/markdown/6_Rmdexample.png" width="100%" style="display: block; margin: auto;"></div>
<p>Knitting this produces the final output with the default font and layout.</p>
<div class="inline-figure"><img src="images/markdown/6_RmdexampleB.png" width="80%" style="display: block; margin: auto;"></div>
</div>
<div id="parameterisation-without-the-params-object" class="section level3" number="1.6.2">
<h3>
<span class="header-section-number">1.6.2</span> Parameterisation without the params object<a class="anchor" aria-label="anchor" href="#parameterisation-without-the-params-object"><i class="fas fa-link"></i></a>
</h3>
<p>If rendering a Rmd file from a separate script, it is not actually essential to use the parameterisation options to run the Rmd file for subsets of data.</p>
<p>For instance, we can simply specify the hospital and date as two objects before rendering the Rmd file. Within the Rmd file, we would not need to have a params section in the YAML, and we would refer to the <code>date</code> object rather than <code>params$date</code> and <code>hospital</code> rather than <code>params$hospital</code>.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode md"><code class="sourceCode markdown"><span id="cb8-1"><a href="r-markdown-reports.html#cb8-1" aria-hidden="true" tabindex="-1"></a>hospital &lt;- "Central Hospital"</span>
<span id="cb8-2"><a href="r-markdown-reports.html#cb8-2" aria-hidden="true" tabindex="-1"></a>date &lt;- "2021-04-10"</span>
<span id="cb8-3"><a href="r-markdown-reports.html#cb8-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-4"><a href="r-markdown-reports.html#cb8-4" aria-hidden="true" tabindex="-1"></a>rmarkdown::render(("create_output.Rmd"),  </span>
<span id="cb8-5"><a href="r-markdown-reports.html#cb8-5" aria-hidden="true" tabindex="-1"></a>                        output_file = paste0("outputs/Report_", Sys.Date(), ".docx")) </span></code></pre></div>
<p>This means you will not be able to “knit with parameters” and use the GUI, or to include knitting options within the parameters. However it allows for simpler code which may be sufficient.</p>
<!-- ======================================================= -->
</div>
</div>
<div id="looping-reports" class="section level2" number="1.7">
<h2>
<span class="header-section-number">1.7</span> Looping reports<a class="anchor" aria-label="anchor" href="#looping-reports"><i class="fas fa-link"></i></a>
</h2>
<p>We may want to run all options of a report at once, for instance a surveillance report for all hospital of interest within a single run, rather than specifying each hospital one by one. For this we need to work in a separate script outside the Rmd, and create a objects for today’s date and the list of hospital names to loop through.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode md"><code class="sourceCode markdown"><span id="cb9-1"><a href="r-markdown-reports.html#cb9-1" aria-hidden="true" tabindex="-1"></a>hospital_list &lt;- c(“Central Hospital”, </span>
<span id="cb9-2"><a href="r-markdown-reports.html#cb9-2" aria-hidden="true" tabindex="-1"></a>                   “Military Hospital”, </span>
<span id="cb9-3"><a href="r-markdown-reports.html#cb9-3" aria-hidden="true" tabindex="-1"></a>                   “Port Hospital”, “</span>
<span id="cb9-4"><a href="r-markdown-reports.html#cb9-4" aria-hidden="true" tabindex="-1"></a>                   St. Mark's Maternity Hospital (SMMH)”) </span>
<span id="cb9-5"><a href="r-markdown-reports.html#cb9-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-6"><a href="r-markdown-reports.html#cb9-6" aria-hidden="true" tabindex="-1"></a>refdate &lt;- Sys.Date() # today’s date</span>
<span id="cb9-7"><a href="r-markdown-reports.html#cb9-7" aria-hidden="true" tabindex="-1"></a></span></code></pre></div>
<p>We then feed this into the markdown using a loop, where we go through each item of the list. The letter <code>i</code> represents which item of the list is currently being iterated, such that <code>hospital_list[1]</code> would be “Central Hospital”. This information is also fed into the file name, such that the file name of the first iteration produced on April 10th 2021 would be “Report_Central Hospital2021-04-10.docx”, saved in the ‘output’ subfolder. In our examples, four files would be created for each day.</p>
<p>For instance, using the parameterisation discussed earlier:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode md"><code class="sourceCode markdown"><span id="cb10-1"><a href="r-markdown-reports.html#cb10-1" aria-hidden="true" tabindex="-1"></a>for(i in 1:length(hospital_list)){</span>
<span id="cb10-2"><a href="r-markdown-reports.html#cb10-2" aria-hidden="true" tabindex="-1"></a>rmarkdown::render("surveillance_report.Rmd",</span>
<span id="cb10-3"><a href="r-markdown-reports.html#cb10-3" aria-hidden="true" tabindex="-1"></a>                  output_file = paste0("output/Report_", hospital_list<span class="co">[</span><span class="ot">i</span><span class="co">]</span>, refdate, ".docx"),</span>
<span id="cb10-4"><a href="r-markdown-reports.html#cb10-4" aria-hidden="true" tabindex="-1"></a>                  params = list(date = refdate, hospital  = hospital_list<span class="co">[</span><span class="ot">i</span><span class="co">]</span>))</span>
<span id="cb10-5"><a href="r-markdown-reports.html#cb10-5" aria-hidden="true" tabindex="-1"></a>}       </span></code></pre></div>
<p>The text and code within the Rmd itself will again refer to <code>params$date</code> and <code>params$hospital</code> to bring in the date and hospital name. The list items would not need to be referred to again within an interation.</p>
<p>If not using this strict form of parameterisation but saving objects to the environment, as discussed at the end of the parameterisation section, the render function would look like this:</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode md"><code class="sourceCode markdown"><span id="cb11-1"><a href="r-markdown-reports.html#cb11-1" aria-hidden="true" tabindex="-1"></a>for(i in 1:length(hospital_list)){</span>
<span id="cb11-2"><a href="r-markdown-reports.html#cb11-2" aria-hidden="true" tabindex="-1"></a>rmarkdown::render("surveillance_report.Rmd",</span>
<span id="cb11-3"><a href="r-markdown-reports.html#cb11-3" aria-hidden="true" tabindex="-1"></a>                  output_file = paste0("output/Report_", hospital_list<span class="co">[</span><span class="ot">i</span><span class="co">]</span>, refdate, ".docx")</span>
<span id="cb11-4"><a href="r-markdown-reports.html#cb11-4" aria-hidden="true" tabindex="-1"></a>}       </span></code></pre></div>
<p>The text within the markdown would then need to refer to <code>hospital_list[i]</code> and <code>refdate</code>.</p>
<!-- ======================================================= -->
</div>
<div id="formatting-and-aesthetics" class="section level2" number="1.8">
<h2>
<span class="header-section-number">1.8</span> Formatting and aesthetics<a class="anchor" aria-label="anchor" href="#formatting-and-aesthetics"><i class="fas fa-link"></i></a>
</h2>
<p>For easy aesthetics, create a template file which contains the desired formatting. You can create for instance an MS word or power point document which contains pages with the desired dimensions, watermarks, backgrounds, and fonts.</p>
<div id="word-documents" class="section level3" number="1.8.1">
<h3>
<span class="header-section-number">1.8.1</span> Word documents<a class="anchor" aria-label="anchor" href="#word-documents"><i class="fas fa-link"></i></a>
</h3>
<p>To create a template, start a new word document (or use an existing output with formatting the suits you), and edit fonts by defining the Styles. In Style,Headings 1, 2, and 3 refer to the various markdown header levels (<code># Header 1</code>, <code>## Header 2</code> and <code>### Header 3</code> respectively). Right click on the style and click ‘modify’ to change the font formatting as well as the paragraph (e.g. you can introduce page breaks before certain styles which can help with spacing). Other aspects of the word document such as margins, page size, headers etc, can be changed like a usual word document you are working directly within.</p>
<div class="inline-figure"><img src="images/markdown/7_template.png" width="100%" style="display: block; margin: auto;"></div>
</div>
<div id="powerpoint-documents" class="section level3" number="1.8.2">
<h3>
<span class="header-section-number">1.8.2</span> Powerpoint documents<a class="anchor" aria-label="anchor" href="#powerpoint-documents"><i class="fas fa-link"></i></a>
</h3>
<p>As above, create a new slideset or use an existing powerpoint file with the desired formatting. For further editing, click on ‘View’ and ‘Slide Master’. From here you can change the ‘master’ slide appearance by editing the text formatting in the text boxes, as well as the background/page dimensions for the overall page.</p>
<div class="inline-figure"><img src="images/markdown/8_ppttemplate.PNG" width="100%" style="display: block; margin: auto;"></div>
<p>Unfortunately, editing powerpoint files is slightly less flexible:</p>
<ul>
<li>A first level header (<code># Header 1</code>) will automatically become the title of a new slide,</li>
<li>A <code>## Header 2</code> text will not come up as a subtitle but text within the slide’s main textbox (unless you find a way to maniuplate the Master view).</li>
<li>Outputted plots and tables will automatically go into new slides. You will need to combine them, for instance the the <strong>patchwork</strong> function to combine ggplots, so that they show up on the same page.</li>
</ul>
</div>
<div id="integrating-templates-into-the-yaml" class="section level3" number="1.8.3">
<h3>
<span class="header-section-number">1.8.3</span> Integrating templates into the YAML<a class="anchor" aria-label="anchor" href="#integrating-templates-into-the-yaml"><i class="fas fa-link"></i></a>
</h3>
<p>Once a template is prepared, the detail of this can be added in the YAML of the Rmd underneath the ‘output’ line and underneath where the document type is specified (which goes to a separate line itself). Note <code>reference_doc</code> can be used for powerpoint slide templates.</p>
<p>It is easiest to save the template in the same folder as where the Rmd file is (as in the example below), or in a subfolder within.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb12-1"><a href="r-markdown-reports.html#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="pp">---</span></span>
<span id="cb12-2"><a href="r-markdown-reports.html#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="fu">title</span><span class="kw">:</span><span class="at"> Surveillance report</span></span>
<span id="cb12-3"><a href="r-markdown-reports.html#cb12-3" aria-hidden="true" tabindex="-1"></a><span class="fu">output</span><span class="kw">:</span><span class="at"> </span></span>
<span id="cb12-4"><a href="r-markdown-reports.html#cb12-4" aria-hidden="true" tabindex="-1"></a><span class="at"> </span><span class="fu">word_document</span><span class="kw">:</span></span>
<span id="cb12-5"><a href="r-markdown-reports.html#cb12-5" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">reference_docx</span><span class="kw">:</span><span class="at"> </span><span class="st">"template.docx"</span></span>
<span id="cb12-6"><a href="r-markdown-reports.html#cb12-6" aria-hidden="true" tabindex="-1"></a><span class="fu">params</span><span class="kw">:</span></span>
<span id="cb12-7"><a href="r-markdown-reports.html#cb12-7" aria-hidden="true" tabindex="-1"></a><span class="at"> </span><span class="fu">date</span><span class="kw">:</span><span class="at"> 2021-04-10</span></span>
<span id="cb12-8"><a href="r-markdown-reports.html#cb12-8" aria-hidden="true" tabindex="-1"></a><span class="at"> </span><span class="fu">hospital</span><span class="kw">:</span><span class="at"> Central Hospital</span></span>
<span id="cb12-9"><a href="r-markdown-reports.html#cb12-9" aria-hidden="true" tabindex="-1"></a><span class="fu">template</span><span class="kw">:</span></span>
<span id="cb12-10"><a href="r-markdown-reports.html#cb12-10" aria-hidden="true" tabindex="-1"></a><span class="at"> </span></span>
<span id="cb12-11"><a href="r-markdown-reports.html#cb12-11" aria-hidden="true" tabindex="-1"></a><span class="pp">---</span></span></code></pre></div>
</div>
<div id="formatting-html-files" class="section level3" number="1.8.4">
<h3>
<span class="header-section-number">1.8.4</span> Formatting HTML files<a class="anchor" aria-label="anchor" href="#formatting-html-files"><i class="fas fa-link"></i></a>
</h3>
<p>HTML files do not use templates, but can have the styles configured within the YAML. HTMLs are interactive documents, and are particularly flexible. We cover some basic options here.</p>
<ul>
<li><p>Table of contents: We can add a table of contents with <code>toc: true</code> below, and also specify that it remains viewable (“floats”) as you scroll, with <code>toc_float: true</code>.</p></li>
<li><p>Themes: We can refer to some pre-made themes, which come from a Bootswatch theme library. In the below example we use cerulean. Other options include: journal, flatly, darkly, readable, spacelab, united, cosmo, lumen, paper, sandstone, simplex, and yeti.</p></li>
<li><p>Highlight: Configuring this changes the look of highlighted text (e.g. code within chunks that are shown). Supported styles include default, tango, pygments, kate, monochrome, espresso, zenburn, haddock, breezedark, and textmate.</p></li>
</ul>
<p>Here is an example of how to integrate the above options into the YAML.</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb13-1"><a href="r-markdown-reports.html#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="pp">---</span></span>
<span id="cb13-2"><a href="r-markdown-reports.html#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="fu">title</span><span class="kw">:</span><span class="at"> </span><span class="st">"HTML example"</span></span>
<span id="cb13-3"><a href="r-markdown-reports.html#cb13-3" aria-hidden="true" tabindex="-1"></a><span class="fu">output</span><span class="kw">:</span></span>
<span id="cb13-4"><a href="r-markdown-reports.html#cb13-4" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">html_document</span><span class="kw">:</span></span>
<span id="cb13-5"><a href="r-markdown-reports.html#cb13-5" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">toc</span><span class="kw">:</span><span class="at"> </span><span class="ch">true</span></span>
<span id="cb13-6"><a href="r-markdown-reports.html#cb13-6" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">toc_float</span><span class="kw">:</span><span class="at"> </span><span class="ch">true</span></span>
<span id="cb13-7"><a href="r-markdown-reports.html#cb13-7" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">theme</span><span class="kw">:</span><span class="at"> cerulean</span></span>
<span id="cb13-8"><a href="r-markdown-reports.html#cb13-8" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">highlight</span><span class="kw">:</span><span class="at"> kate</span></span>
<span id="cb13-9"><a href="r-markdown-reports.html#cb13-9" aria-hidden="true" tabindex="-1"></a><span class="at">    </span></span>
<span id="cb13-10"><a href="r-markdown-reports.html#cb13-10" aria-hidden="true" tabindex="-1"></a><span class="pp">---</span></span></code></pre></div>
<p>Below are two examples of HTML outputs which both have floating tables of contents, but different theme and highlight styles selected:</p>
<div class="inline-figure"><img src="images/markdown/9_html.png" width="100%" style="display: block; margin: auto;"></div>
<!-- ======================================================= -->
</div>
</div>
<div id="resources" class="section level2" number="1.9">
<h2>
<span class="header-section-number">1.9</span> Resources<a class="anchor" aria-label="anchor" href="#resources"><i class="fas fa-link"></i></a>
</h2>
<p>Further information can be found via:</p>
<ul>
<li><a href="https://bookdown.org/yihui/rmarkdown/" class="uri">https://bookdown.org/yihui/rmarkdown/</a></li>
<li><a href="https://rmarkdown.rstudio.com/articles_intro.html" class="uri">https://rmarkdown.rstudio.com/articles_intro.html</a></li>
</ul>
<p>A good explainer of markdown vs knitr vs Rmarkdown is here: <a href="https://stackoverflow.com/questions/40563479/relationship-between-r-markdown-knitr-pandoc-and-bookdown" class="uri">https://stackoverflow.com/questions/40563479/relationship-between-r-markdown-knitr-pandoc-and-bookdown</a></p>

</div>
</div>
  <div class="chapter-nav">
<div class="prev"><a href="index.html"></a></div>
<div class="next"><a href="dashboards-with-r-markdown.html"><span class="header-section-number">2</span> Dashboards with R Markdown</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#r-markdown-reports"><span class="header-section-number">1</span> R Markdown reports</a></li>
<li><a class="nav-link" href="#overview"><span class="header-section-number">1.1</span> Overview</a></li>
<li><a class="nav-link" href="#preparation"><span class="header-section-number">1.2</span> Preparation</a></li>
<li>
<a class="nav-link" href="#getting-started"><span class="header-section-number">1.3</span> Getting started</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#starting-a-new-rmd-file"><span class="header-section-number">1.3.1</span> Starting a new Rmd file</a></li>
<li><a class="nav-link" href="#important-to-know"><span class="header-section-number">1.3.2</span> Important to know</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#the-r-markdown-file"><span class="header-section-number">1.4</span> The R Markdown file</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#yaml-metadata"><span class="header-section-number">1.4.1</span> 1. YAML metadata</a></li>
<li><a class="nav-link" href="#text"><span class="header-section-number">1.4.2</span> 2. Text</a></li>
<li><a class="nav-link" href="#code-chunks"><span class="header-section-number">1.4.3</span> 3. Code chunks</a></li>
<li><a class="nav-link" href="#combining-code-and-text"><span class="header-section-number">1.4.4</span> Combining code and text</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#producing-an-r-markdown-output"><span class="header-section-number">1.5</span> Producing an R markdown output</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#r-markdown-workflow"><span class="header-section-number">1.5.1</span> R markdown workflow</a></li>
<li><a class="nav-link" href="#producing-a-complete-document"><span class="header-section-number">1.5.2</span> Producing a complete document</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#parameterised-reports"><span class="header-section-number">1.6</span> Parameterised reports</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#using-parameters"><span class="header-section-number">1.6.1</span> Using parameters</a></li>
<li><a class="nav-link" href="#parameterisation-without-the-params-object"><span class="header-section-number">1.6.2</span> Parameterisation without the params object</a></li>
</ul>
</li>
<li><a class="nav-link" href="#looping-reports"><span class="header-section-number">1.7</span> Looping reports</a></li>
<li>
<a class="nav-link" href="#formatting-and-aesthetics"><span class="header-section-number">1.8</span> Formatting and aesthetics</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#word-documents"><span class="header-section-number">1.8.1</span> Word documents</a></li>
<li><a class="nav-link" href="#powerpoint-documents"><span class="header-section-number">1.8.2</span> Powerpoint documents</a></li>
<li><a class="nav-link" href="#integrating-templates-into-the-yaml"><span class="header-section-number">1.8.3</span> Integrating templates into the YAML</a></li>
<li><a class="nav-link" href="#formatting-html-files"><span class="header-section-number">1.8.4</span> Formatting HTML files</a></li>
</ul>
</li>
<li><a class="nav-link" href="#resources"><span class="header-section-number">1.9</span> Resources</a></li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
          
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>The Epidemiologist R Handbook</strong>" was written by the handbook team. It was last built on 2021-04-18.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer>
</body>
</html>
