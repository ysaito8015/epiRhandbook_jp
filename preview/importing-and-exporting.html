<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>1 Importing and exporting | R Handbook for Epidemiologists</title>
<meta name="author" content="the handbook team">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.2"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/header-attrs-2.6/header-attrs.js"></script><script src="libs/jquery-3.5.1/jquery-3.5.1.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.5.3/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.5.3/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.2.3.9000/tabs.js"></script><script src="libs/bs3compat-0.2.3.9000/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="libs/htmlwidgets-1.5.3/htmlwidgets.js"></script><link href="libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet">
<script src="libs/datatables-binding-0.15/datatables.js"></script><link href="libs/dt-core-1.10.20/css/jquery.dataTables.min.css" rel="stylesheet">
<link href="libs/dt-core-1.10.20/css/jquery.dataTables.extra.css" rel="stylesheet">
<script src="libs/dt-core-1.10.20/js/jquery.dataTables.min.js"></script><link href="libs/nouislider-7.0.10/jquery.nouislider.min.css" rel="stylesheet">
<script src="libs/nouislider-7.0.10/jquery.nouislider.min.js"></script><link href="libs/selectize-0.12.0/selectize.bootstrap3.css" rel="stylesheet">
<script src="libs/selectize-0.12.0/selectize.min.js"></script><link href="libs/crosstalk-1.1.1/css/crosstalk.css" rel="stylesheet">
<script src="libs/crosstalk-1.1.1/js/crosstalk.min.js"></script><script src="https://cdn.jsdelivr.net/autocomplete.js/0/autocomplete.jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/mark.js@8.11.1/dist/mark.min.js"></script><!-- CSS --><link rel="stylesheet" href="style_bs4.css">
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">R Handbook for Epidemiologists</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html">Welcome - THIS IS A DRAFT</a></li>
<li class="book-part">Preview pages</li>
<li><a class="active" href="importing-and-exporting.html"><span class="header-section-number">1</span> Importing and exporting</a></li>
</ul>

        <div class="book-extra">
          
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="importing-and-exporting" class="section level1" number="1">
<h1>
<span class="header-section-number">1</span> Importing and exporting<a class="anchor" aria-label="anchor" href="#importing-and-exporting"><i class="fas fa-link"></i></a>
</h1>
<!-- ======================================================= -->
<div id="overview" class="section level2" number="1.1">
<h2>
<span class="header-section-number">1.1</span> Overview<a class="anchor" aria-label="anchor" href="#overview"><i class="fas fa-link"></i></a>
</h2>
<p>Here we describe ways to import and export data:</p>
<ul>
<li>The <strong>rio</strong> package to import/export<br>
</li>
<li>The <strong>here</strong> package to locate files
<ul>
<li>Relative versus absolute filepaths<br>
</li>
</ul>
</li>
<li>
</ul>
<!-- ======================================================= -->
</div>
<div id="the-rio-package" class="section level2" number="1.2">
<h2>
<span class="header-section-number">1.2</span> The <strong>rio</strong> package<a class="anchor" aria-label="anchor" href="#the-rio-package"><i class="fas fa-link"></i></a>
</h2>
<p>The package we recommend for importing data is: <strong>rio</strong>. <strong>rio</strong> utilizes the file extension (e.g. .xlsx, .csv, .rds, etc.) to import or export the file correctly.</p>
<p>The alternative to using <strong>rio</strong> would be to use functions from many other packages that are specific to a type of file (e.g. <code><a href="https://rdrr.io/r/utils/read.table.html">read.csv()</a></code>, <code>read.xlsx()</code>, etc.). These alternatives can be difficult to remember, whereas using <code><a href="https://rdrr.io/pkg/rio/man/import.html">import()</a></code> from <strong>rio</strong> is relatively easy.</p>
<p>Below is a table, taken from the <strong>rio</strong> online <a href="https://cran.r-project.org/web/packages/rio/vignettes/rio.html">vignette</a>. It shows for each type of data, the file extension that is expected, the packages it uses to import or export the data (so you can look up specific arguments, if needed), and whether this functionality is included in the default installed version of <strong>rio</strong>.</p>
<div class="inline-table"><table class="table table-sm">
<thead><tr class="header">
<th>Format</th>
<th>Typical Extension</th>
<th>Import Package</th>
<th>Export Package</th>
<th>Installed by Default</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>Comma-separated data</td>
<td>.csv</td>
<td>data.table</td>
<td>data.table</td>
<td>Yes</td>
</tr>
<tr class="even">
<td>Pipe-separated data</td>
<td>.psv</td>
<td>data.table</td>
<td>data.table</td>
<td>Yes</td>
</tr>
<tr class="odd">
<td>Tab-separated data</td>
<td>.tsv</td>
<td>data.table</td>
<td>data.table</td>
<td>Yes</td>
</tr>
<tr class="even">
<td>SAS</td>
<td>.sas7bdat</td>
<td>haven</td>
<td>haven</td>
<td>Yes</td>
</tr>
<tr class="odd">
<td>SPSS</td>
<td>.sav</td>
<td>haven</td>
<td>haven</td>
<td>Yes</td>
</tr>
<tr class="even">
<td>Stata</td>
<td>.dta</td>
<td>haven</td>
<td>haven</td>
<td>Yes</td>
</tr>
<tr class="odd">
<td>SAS</td>
<td>XPORT</td>
<td>.xpt</td>
<td>haven</td>
<td>haven</td>
</tr>
<tr class="even">
<td>SPSS Portable</td>
<td>.por</td>
<td>haven</td>
<td></td>
<td>Yes</td>
</tr>
<tr class="odd">
<td>Excel</td>
<td>.xls</td>
<td>readxl</td>
<td></td>
<td>Yes</td>
</tr>
<tr class="even">
<td>Excel</td>
<td>.xlsx</td>
<td>readxl</td>
<td>openxlsx</td>
<td>Yes</td>
</tr>
<tr class="odd">
<td>R syntax</td>
<td>.R</td>
<td>base</td>
<td>base</td>
<td>Yes</td>
</tr>
<tr class="even">
<td>Saved R objects</td>
<td>.RData, .rda</td>
<td>base</td>
<td>base</td>
<td>Yes</td>
</tr>
<tr class="odd">
<td>Serialized R objects</td>
<td>.rds</td>
<td>base</td>
<td>base</td>
<td>Yes</td>
</tr>
<tr class="even">
<td>Epiinfo</td>
<td>.rec</td>
<td>foreign</td>
<td></td>
<td>Yes</td>
</tr>
<tr class="odd">
<td>Minitab</td>
<td>.mtp</td>
<td>foreign</td>
<td></td>
<td>Yes</td>
</tr>
<tr class="even">
<td>Systat</td>
<td>.syd</td>
<td>foreign</td>
<td></td>
<td>Yes</td>
</tr>
<tr class="odd">
<td>“XBASE”</td>
<td>database files</td>
<td>.dbf</td>
<td>foreign</td>
<td>foreign</td>
</tr>
<tr class="even">
<td>Weka Attribute-Relation File Format</td>
<td>.arff</td>
<td>foreign</td>
<td>foreign</td>
<td>Yes</td>
</tr>
<tr class="odd">
<td>Data Interchange Format</td>
<td>.dif</td>
<td>utils</td>
<td></td>
<td>Yes</td>
</tr>
<tr class="even">
<td>Fortran data</td>
<td>no recognized extension</td>
<td>utils</td>
<td></td>
<td>Yes</td>
</tr>
<tr class="odd">
<td>Fixed-width format data</td>
<td>.fwf</td>
<td>utils</td>
<td>utils</td>
<td>Yes</td>
</tr>
<tr class="even">
<td>gzip comma-separated data</td>
<td>.csv.gz</td>
<td>utils</td>
<td>utils</td>
<td>Yes</td>
</tr>
<tr class="odd">
<td>CSVY (CSV + YAML metadata header)</td>
<td>.csvy</td>
<td>csvy</td>
<td>csvy</td>
<td>No</td>
</tr>
<tr class="even">
<td>EViews</td>
<td>.wf1</td>
<td>hexView</td>
<td></td>
<td>No</td>
</tr>
<tr class="odd">
<td>Feather R/Python interchange format</td>
<td>.feather</td>
<td>feather</td>
<td>feather</td>
<td>No</td>
</tr>
<tr class="even">
<td>Fast Storage</td>
<td>.fst</td>
<td>fst</td>
<td>fst</td>
<td>No</td>
</tr>
<tr class="odd">
<td>JSON</td>
<td>.json</td>
<td>jsonlite</td>
<td>jsonlite</td>
<td>No</td>
</tr>
<tr class="even">
<td>Matlab</td>
<td>.mat</td>
<td>rmatio</td>
<td>rmatio</td>
<td>No</td>
</tr>
<tr class="odd">
<td>OpenDocument Spreadsheet</td>
<td>.ods</td>
<td>readODS</td>
<td>readODS</td>
<td>No</td>
</tr>
<tr class="even">
<td>HTML Tables</td>
<td>.html</td>
<td>xml2</td>
<td>xml2</td>
<td>No</td>
</tr>
<tr class="odd">
<td>Shallow XML documents</td>
<td>.xml</td>
<td>xml2</td>
<td>xml2</td>
<td>No</td>
</tr>
<tr class="even">
<td>YAML</td>
<td>.yml</td>
<td>yaml</td>
<td>yaml</td>
<td>No</td>
</tr>
<tr class="odd">
<td>Clipboard default is tsv</td>
<td>clipr</td>
<td>clipr</td>
<td>No</td>
<td></td>
</tr>
</tbody>
</table></div>
<p>You can read more about the <strong>rio</strong> package <a href="https://rdrr.io/cran/rio/f/vignettes/rio.Rmd">in this online vignette</a></p>
<!-- ======================================================= -->
</div>
<div id="here" class="section level2" number="1.3">
<h2>
<span class="header-section-number">1.3</span> Relative filepaths (<code>here()</code>)<a class="anchor" aria-label="anchor" href="#here"><i class="fas fa-link"></i></a>
</h2>
<p><em>Relative filepaths</em> differ from static filepaths in that they are <em>relative from a specific directory location</em>.<br>
For example:</p>
<ul>
<li>
<strong>A static filepath</strong>: <code><a href="https://rdrr.io/pkg/rio/man/import.html">import("C:/Users/nsbatra/My Documents/R files/epiproject/data/linelists/ebola_linelist.xlsx")</a></code>
<ul>
<li>Specific fixed path</li>
<li>Useful if calling a file in a distant directory, or if multiple users are running a script hosted on a network drive</li>
</ul>
</li>
<li>
<strong>A relative filepath</strong>: <code><a href="https://rdrr.io/pkg/rio/man/import.html">import(here("data", "linelists", "ebola_linelist.xlsx"))</a></code>
<ul>
<li>Path is given in relation to a directory<br>
</li>
<li>Best if working within an R project</li>
</ul>
</li>
</ul>
<p>The package <strong>here</strong> can be used, often in conjunction with <strong>rio</strong> for importing or exporting. <strong>here</strong> locates files on your computer via <em>relative pathways</em>, usually within the context of [R projects]. Relative pathways are relative from a designated folder location, so that pathways listed in R code will not break when the script is run on a different computer.</p>
<p>This code chunk shows the loading of packages for importing data.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Checks if package is installed, installs if necessary, and loads package for current session</span>
<span class="fu">pacman</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/pacman/man/p_load.html">p_load</a></span><span class="op">(</span><span class="va">rio</span>, <span class="va">here</span><span class="op">)</span></code></pre></div>
<p>Use the package <strong>here</strong> and its function <code>here()</code> to implement relative pathways.</p>
<p><code>here()</code> works best within <a href="#rprojects">R projects</a>. When the <strong>here</strong> package is first loaded, it places a small file called “here” in the root-level folder of your R project as a “benchmark” or “anchor” for all other files in the project.</p>
<p>Thus, in your script, if you want to import or reference a file saved in your R project’s folders, you use the function <code>here()</code> to tell R where the file is <strong><em>in relation to that benchmark</em></strong>. These relative filepaths can be used for both importing and exporting/saving data.</p>
<p>If you are unsure where “here” is set to, run the function <code>here()</code> with the empty brackets:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># This command tells you the folder path that "here" is set to </span>
<span class="fu">here</span><span class="fu">::</span><span class="fu"><a href="https://here.r-lib.org//reference/here.html">here</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<p>Below is an example of importing the file “linelist.xlsx” which is located in the benchmark “here” folder. All you have to do is provide the name of the file in quotes (with the appropriate ending).</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">linelist</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/rio/man/import.html">import</a></span><span class="op">(</span><span class="fu">here</span><span class="op">(</span><span class="st">"linelist_raw.xlsx"</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<p>If the file is within a subfolder - let’s say a “data” folder - write these folder names in quotes, separated by commas, as below:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">linelist</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/rio/man/import.html">import</a></span><span class="op">(</span><span class="fu">here</span><span class="op">(</span><span class="st">"data"</span>, <span class="st">"linelist.xlsx"</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<p>Using the <code>here()</code> command produces a character filepath, which is then processed by the <code><a href="https://rdrr.io/pkg/rio/man/import.html">import()</a></code> function.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># the filepath</span>
<span class="fu">here</span><span class="op">(</span><span class="st">"data"</span>, <span class="st">"linelist.xlsx"</span><span class="op">)</span></code></pre></div>
<pre><code>## [1] "C:/Users/Neale/OneDrive - Neale Batra/Documents/Analytic Software/R/Projects/R handbook/Epi_R_handbook/data/linelist.xlsx"</code></pre>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># the filepath is given to the import() function</span>
<span class="va">linelist</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/rio/man/import.html">import</a></span><span class="op">(</span><span class="fu">here</span><span class="op">(</span><span class="st">"data"</span>, <span class="st">"linelist.xlsx"</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<!-- ======================================================= -->
</div>
<div id="importing" class="section level2" number="1.4">
<h2>
<span class="header-section-number">1.4</span> Importing<a class="anchor" aria-label="anchor" href="#importing"><i class="fas fa-link"></i></a>
</h2>
<p>When you import a dataset, you are doing the following:</p>
<ol style="list-style-type: decimal">
<li>Creating a new, named data frame object in your R environment<br>
</li>
<li>
<em>Defining the new object</em> <strong>as</strong> <em>the imported dataset</em>
</li>
</ol>
<!-- ======================================================= --><div id="import-from-filepath" class="section level3 unnumbered">
<h3>Import from filepath<a class="anchor" aria-label="anchor" href="#import-from-filepath"><i class="fas fa-link"></i></a>
</h3>
<p>The function <code><a href="https://rdrr.io/pkg/rio/man/import.html">import()</a></code> (from the package <strong>rio</strong>) accepts a filepath within quotation marks. A few things to note:</p>
<ul>
<li>Slashes must be forward slashes, as in the code shown. This is <em>NOT</em> the default for Windows filepaths.<br>
</li>
<li>Filepaths that begin with double slashes (e.g. “//…”) will likely <strong>not be recognized by R</strong> and will produce an error. Consider moving these files to a “named” or “lettered” drive that begins with a letter (e.g. “J:” or “C:”). See the section on using Network Drive for more details on this issue.<br>
</li>
<li>Do not worry about slash direction if using relative filepaths with <strong>here</strong>
</li>
</ul>
<p>With absolute filepath:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Absolute pathway</span>
<span class="fu">p_load</span><span class="op">(</span><span class="va">rio</span><span class="op">)</span>                                                      
<span class="va">my_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/rio/man/import.html">import</a></span><span class="op">(</span><span class="st">"C:/Users/Timothy/Documents/cancer project/data/clean/survival_data.xlsx"</span><span class="op">)</span></code></pre></div>
<p>With relative filepath:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="importing-and-exporting.html#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Absolute pathway</span></span>
<span id="cb9-2"><a href="importing-and-exporting.html#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="fu">p_load</span>(rio)                                                 </span>
<span id="cb9-3"><a href="importing-and-exporting.html#cb9-3" aria-hidden="true" tabindex="-1"></a>my_data <span class="ot">&lt;-</span> <span class="fu">import</span>(<span class="fu">here</span>(<span class="st">"data"</span>, <span class="st">"clean"</span>, <span class="st">"survival_data.xlsx"</span>)</span></code></pre></div>
<!-- ======================================================= -->
</div>
<div id="excel-sheet" class="section level3 unnumbered">
<h3>Excel sheet<a class="anchor" aria-label="anchor" href="#excel-sheet"><i class="fas fa-link"></i></a>
</h3>
<p>If importing a specific <strong>sheet</strong> from an Excel file, include the sheet name in the <code>which =</code> argument of <code><a href="https://rdrr.io/pkg/rio/man/import.html">import()</a></code>. For example:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">my_data</span> <span class="op">&lt;-</span> <span class="fu">rio</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/rio/man/import.html">import</a></span><span class="op">(</span><span class="st">"my_excel_file.xlsx"</span>, which <span class="op">=</span> <span class="st">"Sheetname"</span><span class="op">)</span></code></pre></div>
<p>If using the <code>here()</code> method to provide a relative pathway to <code><a href="https://rdrr.io/pkg/rio/man/import.html">import()</a></code>, you can still indicate a specific sheet by adding the <code>which =</code> argument after the closing parenthese of the <code>here()</code> function.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="importing-and-exporting.html#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Demonstration: importing a specific Excel sheet when using relative pathways with the 'here' package</span></span>
<span id="cb11-2"><a href="importing-and-exporting.html#cb11-2" aria-hidden="true" tabindex="-1"></a>linelist_raw <span class="ot">&lt;-</span> <span class="fu">import</span>(<span class="fu">here</span>(<span class="st">"data"</span>, <span class="st">"linelists"</span>, <span class="st">"linelist.xlsx"</span>), <span class="at">which =</span> <span class="st">"Sheet1"</span>)<span class="st">`</span><span class="at">  </span></span></code></pre></div>
<!-- ======================================================= -->
</div>
<div id="select-file-manually" class="section level3 unnumbered">
<h3>Select file manually<a class="anchor" aria-label="anchor" href="#select-file-manually"><i class="fas fa-link"></i></a>
</h3>
<p>You can import data manually via one of these methods:</p>
<ul>
<li>Environment RStudio Pane, click “Import Dataset”, and select the type of data</li>
<li>Click File / Import Dataset / (select the type of data)<br>
</li>
<li>To hard-code manual selection, use the <em>base R</em> command <code><a href="https://rdrr.io/r/base/file.choose.html">file.choose()</a></code> (leaving the parentheses empty) to trigger appearance of a <strong>pop-up window</strong> that allows the user to manually select the file from their computer. For example:</li>
</ul>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Manual selection of a file.</span>
<span class="co"># When this command is run, a POP-UP window should appear. </span>
<span class="co"># The filepath of the selected file will be supplied to the import() command.</span>

<span class="va">my_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/rio/man/import.html">import</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/file.choose.html">file.choose</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<p><span style="color: darkgreen;"><strong><em>TIP:</em></strong> The <strong>pop-up window</strong> may appear BEHIND your RStudio window.</span></p>
<!-- ======================================================= -->
</div>
</div>
<div id="google-sheets" class="section level2" number="1.5">
<h2>
<span class="header-section-number">1.5</span> Google sheets<a class="anchor" aria-label="anchor" href="#google-sheets"><i class="fas fa-link"></i></a>
</h2>
<p>You can import data from an online Google spreadsheet with the <strong>googlesheet4</strong> package and by authenticating your access to the spreadsheet.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">pacman</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/pacman/man/p_load.html">p_load</a></span><span class="op">(</span><span class="st">"googlesheets4"</span><span class="op">)</span></code></pre></div>
<p>Below, a demo Google sheet is imported and saved. This command may prompt confirmation of authentification of your Google account. Follow prompts and pop-ups in your internet browser to grant Tidyverse API packages permissions to edit, create, and delete your spreadsheets in Google Drive.</p>
<p>The sheet below is “viewable for anyone with the link” and you can try to import it.</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">Gsheets_demo</span> <span class="op">&lt;-</span> <span class="fu">read_sheet</span><span class="op">(</span><span class="st">"https://docs.google.com/spreadsheets/d/1scgtzkVLLHAe5a6_eFQEwkZcc14yFUx1KgOMZ4AKUfY/edit#gid=0"</span><span class="op">)</span></code></pre></div>
<p>The sheet can also be imported using only the sheet ID, a shorter part of the URL:</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">Gsheets_demo</span> <span class="op">&lt;-</span> <span class="fu">read_sheet</span><span class="op">(</span><span class="st">"1scgtzkVLLHAe5a6_eFQEwkZcc14yFUx1KgOMZ4AKUfY"</span><span class="op">)</span></code></pre></div>
<p>Another package, <strong>googledrive</strong> offers useful functions for writing, editing, and deleting Google sheets. For example, using the <code>gs4_create()</code> and <code>sheet_write()</code> functions found in this package.</p>
<p>Here are some other helpful online tutorials: <a href="https://arbor-analytics.com/post/getting-your-data-into-r-from-google-sheets/">basic importing tutorial</a> <a href="https://googlesheets4.tidyverse.org/articles/googlesheets4.html">more detail</a> <a href="https://googlesheets4.tidyverse.org/articles/articles/drive-and-sheets.html">interaction between the two packages</a></p>
<!-- ======================================================= -->
</div>
<div id="websites" class="section level2" number="1.6">
<h2>
<span class="header-section-number">1.6</span> Websites<a class="anchor" aria-label="anchor" href="#websites"><i class="fas fa-link"></i></a>
</h2>
<p>Scraping data from a website - TBD - Under construction</p>
<!-- ======================================================= -->
</div>
<div id="skip-rows" class="section level2" number="1.7">
<h2>
<span class="header-section-number">1.7</span> Skip rows<a class="anchor" aria-label="anchor" href="#skip-rows"><i class="fas fa-link"></i></a>
</h2>
<p>Sometimes, you may want to avoid importing a row of data. You can do this with the argument <code>skip =</code> if using <code><a href="https://rdrr.io/pkg/rio/man/import.html">import()</a></code> from <strong>rio</strong> on a .xlsx or .csv file. Provide the number of rows you want to skip.</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">linelist_raw</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/rio/man/import.html">import</a></span><span class="op">(</span><span class="st">"linelist_raw.xlsx"</span>, skip <span class="op">=</span> <span class="fl">1</span><span class="op">)</span>  <span class="co"># does not import header row</span></code></pre></div>
<p>Unfortunately <code>skip =</code> only accepts one integer value, <em>not</em> a range (e.g. “2:10” does not work). To skip import of specific rows that are not consecutive from the top, consider importing multiple times and using <code>bind_rows()</code> from <strong>dplyr</strong>. See the example below of skipping only row 2.</p>
<div id="removing-a-second-header-row" class="section level3" number="1.7.1">
<h3>
<span class="header-section-number">1.7.1</span> Removing a second header row<a class="anchor" aria-label="anchor" href="#removing-a-second-header-row"><i class="fas fa-link"></i></a>
</h3>
<p>Your data may have a <em>second</em> row of data, for example if it is a “data dictionary” row (see example below).</p>
<div id="htmlwidget-be1aa378543e06d1e6e3" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-be1aa378543e06d1e6e3">{"x":{"filter":"top","filterHTML":"<tr>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n<\/tr>","data":[["case identification number assigned by MOH","6c286a","5fe599","6285c9","893f25"],["transmission chain generation number","2","4","4","3"],["estimated date of infection, mm/dd/yyyy",null,"2014-05-08","2014-05-04","2014-05-18"],["date of symptom onset, YYYY-MM-DD","2014-04-27","2014-05-13","2014-05-14","2014-05-21"],["date of initial hospitalization, mm/dd/yyyy","2014-04-27","2014-05-15","2014-05-14","2014-05-22"],["date of outcome status determination","2014-05-07",null,"2014-05-17","2014-05-29"],["either 'Death' or 'Recovered' or 'Unknown'","Death",null,"Death","Recover"],["either 'm' or 'f' or 'unknown'","f","m","f","m"],["age number","14","12","4","66"],["age unit, either 'years' or 'months' or 'days'","years","years","years","years"],[null,"14","12","4","66"],[null,"10-14","10-14","0-4","50-69"],[null,"10-14","10-14","0-4","65-69"],["Name of hospital of first admission","Missing","Other","Missing","Military Hospital"],["longitude of residence, approx","-13.2311229156957","-13.2157351064963","-13.2205862656383","-13.2228638912441"],["latitude of residence, approx","8.46477606739351","8.46897295100924","8.45056919644254","8.46082377490923"],["case_id of infector",null,"f547d6","f9149b","11f8ea"],["context of known transmission event",null,"other","other","other"],[null,"71","60","29","98"],[null,"121","146","78","258"],[null,"22","22","23","22"],["presence of fever on admission, either 'yes' or 'no'","no","no","no","no"],["presence of chills on admission, either 'yes' or 'no'","no","yes","no","no"],["presence of cough on admission, either 'yes' or 'no'","yes","no","yes","yes"],["presence of aches on admission, either 'yes' or 'no'","no","no","no","no"],["presence of vomiting on admission, either 'yes' or 'no'","no","yes","yes","yes"],[null,"36.5","37.7","36.3","37.1"],["time of hospital admission HH:MM","12:38","05:39",null,"08:32"],[null,"48.49395533092","28.1478701444924","47.6660092044707","14.7226729162911"],[null,"0","2","0","1"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>case_id<\/th>\n      <th>generation<\/th>\n      <th>date_infection<\/th>\n      <th>date_onset<\/th>\n      <th>date_hospitalisation<\/th>\n      <th>date_outcome<\/th>\n      <th>outcome<\/th>\n      <th>gender<\/th>\n      <th>age<\/th>\n      <th>age_unit<\/th>\n      <th>age_years<\/th>\n      <th>age_cat<\/th>\n      <th>age_cat5<\/th>\n      <th>hospital<\/th>\n      <th>lon<\/th>\n      <th>lat<\/th>\n      <th>infector<\/th>\n      <th>source<\/th>\n      <th>wt_kg<\/th>\n      <th>ht_cm<\/th>\n      <th>ct_blood<\/th>\n      <th>fever<\/th>\n      <th>chills<\/th>\n      <th>cough<\/th>\n      <th>aches<\/th>\n      <th>vomit<\/th>\n      <th>temp<\/th>\n      <th>time_admission<\/th>\n      <th>bmi<\/th>\n      <th>days_onset_hosp<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":4,"scrollX":true,"order":[],"autoWidth":false,"orderClasses":false,"orderCellsTop":true,"lengthMenu":[4,10,25,50,100]}},"evals":[],"jsHooks":[]}</script><p>This situation can be problematic because it can result in all columns being imported as class “character”. To solve this, you will likely need to import the data twice.</p>
<ol style="list-style-type: decimal">
<li>Import the data in order to store the correct column names<br>
</li>
<li>Import the data again, skipping the first <em>two</em> rows (header and second rows)<br>
</li>
<li>Bind the correct names onto the reduced dataframe</li>
</ol>
<p>The exact arguments used to bind the correct column names depends on the type of data file (.csv, .tsv, .xlsx, etc.). If using <strong>rio</strong>’s <code><a href="https://rdrr.io/pkg/rio/man/import.html">import()</a></code> function, understand which function <strong>rio</strong> uses to import your data, and then give the appropriate argument to skip lines and/or designate the column names.</p>
<p><strong>For Excel files:</strong></p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># import first time; store the column names</span>
<span class="va">linelist_raw_names</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/rio/man/import.html">import</a></span><span class="op">(</span><span class="st">"linelist_raw.xlsx"</span><span class="op">)</span> <span class="op">%&gt;%</span> <span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span><span class="op">(</span><span class="op">)</span>  <span class="co"># save true column names</span>

<span class="co"># import second time; skip row 2, and assign column names to argument col_names =</span>
<span class="va">linelist_raw</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/rio/man/import.html">import</a></span><span class="op">(</span><span class="st">"linelist_raw.xlsx"</span>,
                       skip <span class="op">=</span> <span class="fl">2</span>,
                       col_names <span class="op">=</span> <span class="va">linelist_raw_names</span>
                       <span class="op">)</span> </code></pre></div>
<p><strong>For CSV files:</strong></p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># import first time; sotre column names</span>
<span class="va">linelist_raw_names</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/rio/man/import.html">import</a></span><span class="op">(</span><span class="st">"linelist_raw.csv"</span><span class="op">)</span> <span class="op">%&gt;%</span> <span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span><span class="op">(</span><span class="op">)</span> <span class="co"># save true column names</span>

<span class="co"># note argument for csv files is 'col.names = '</span>
<span class="va">linelist_raw</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/rio/man/import.html">import</a></span><span class="op">(</span><span class="st">"linelist_raw.csv"</span>,
                       skip <span class="op">=</span> <span class="fl">2</span>,
                       col.names <span class="op">=</span> <span class="va">linelist_raw_names</span>
                       <span class="op">)</span> </code></pre></div>
<p><strong>Backup option</strong> - changing column names as a separate command</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># assign/overwrite headers using the base 'colnames()' function</span>
<span class="fu"><a href="https://rdrr.io/r/base/colnames.html">colnames</a></span><span class="op">(</span><span class="va">linelist_raw</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="va">linelist_raw_names</span></code></pre></div>
<p>Bonus! If you do have a second row that is a data dictionary, you can easily create a proper data dictionary from it. See this <a href="https://alison.rbind.io/post/2018-02-23-read-multiple-header-rows/">vignette</a></p>
<!-- ======================================================= -->
</div>
</div>
<div id="manual-data-entry" class="section level2" number="1.8">
<h2>
<span class="header-section-number">1.8</span> Manual data entry<a class="anchor" aria-label="anchor" href="#manual-data-entry"><i class="fas fa-link"></i></a>
</h2>
<div id="entry-by-columns" class="section level3" number="1.8.1">
<h3>
<span class="header-section-number">1.8.1</span> Entry by columns<a class="anchor" aria-label="anchor" href="#entry-by-columns"><i class="fas fa-link"></i></a>
</h3>
<p>Since a data frame is a combination of vertical vectors (columns), R by default expects manual entry of data to also be in vertical vectors (columns).</p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># define each vector (vertical column) separately, each with its own name</span>
<span class="va">PatientID</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">235</span>, <span class="fl">452</span>, <span class="fl">778</span>, <span class="fl">111</span><span class="op">)</span>
<span class="va">Treatment</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Yes"</span>, <span class="st">"No"</span>, <span class="st">"Yes"</span>, <span class="st">"Yes"</span><span class="op">)</span>
<span class="va">Death</span>     <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">0</span>, <span class="fl">1</span>, <span class="fl">0</span><span class="op">)</span></code></pre></div>
<p><span style="color: orange;"><strong><em>CAUTION:</em></strong> All vectors must be the same length (same number of values).</span></p>
<p>The vectors can then be bound together using the function <code><a href="https://rdrr.io/r/base/data.frame.html">data.frame()</a></code>:</p>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># combine the columns into a data frame, by referencing the vector names</span>
<span class="va">manual_entry_cols</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span><span class="va">PatientID</span>, <span class="va">Treatment</span>, <span class="va">Death</span><span class="op">)</span></code></pre></div>
<p>And now we display the new dataset:</p>
<div id="htmlwidget-6f3dd86a75cd9df0fc13" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-6f3dd86a75cd9df0fc13">{"x":{"filter":"none","data":[["1","2","3","4"],[235,452,778,111],["Yes","No","Yes","Yes"],[1,0,1,0]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>PatientID<\/th>\n      <th>Treatment<\/th>\n      <th>Death<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":[1,3]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
<div id="entry-by-rows" class="section level3" number="1.8.2">
<h3>
<span class="header-section-number">1.8.2</span> Entry by rows<a class="anchor" aria-label="anchor" href="#entry-by-rows"><i class="fas fa-link"></i></a>
</h3>
<p>Use the <code>tribble</code> function from the <strong>tibble</strong> package from the tidverse (<a href="https://tibble.tidyverse.org/reference/tribble.html">onlinetibble reference</a>).</p>
<p>Note how column headers start with a <em>tilde</em> (<code><a href="https://rdrr.io/r/base/tilde.html">~</a></code>). Also note that each column must contain only one class of data (character, numeric, etc.).<br>
You can use tabs, spacing, and new rows to make the data entry more intuitive and readable. For example:</p>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># create the dataset manually by row</span>
<span class="va">manual_entry_rows</span> <span class="op">&lt;-</span> <span class="fu">tibble</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/tribble.html">tribble</a></span><span class="op">(</span>
                        <span class="op">~</span><span class="va">colA</span>, <span class="op">~</span><span class="va">colB</span>,
                        <span class="st">"a"</span>,   <span class="fl">1</span>,
                        <span class="st">"b"</span>,   <span class="fl">2</span>,
                        <span class="st">"c"</span>,   <span class="fl">3</span>
                      <span class="op">)</span></code></pre></div>
<p>And now we display the new dataset:</p>
<div id="htmlwidget-88feeac4fed8a905ca6d" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-88feeac4fed8a905ca6d">{"x":{"filter":"none","data":[["1","2","3"],["a","b","c"],[1,2,3]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>colA<\/th>\n      <th>colB<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":2},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
<div id="pasting-from-clipboard" class="section level3" number="1.8.3">
<h3>
<span class="header-section-number">1.8.3</span> Pasting from clipboard<a class="anchor" aria-label="anchor" href="#pasting-from-clipboard"><i class="fas fa-link"></i></a>
</h3>
<p>If you copy data from elsewhere and have it on your clipboard, you can try the following command to convert those data into an R data frame:</p>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">manual_entry_clipboard</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html">read.table</a></span><span class="op">(</span>file <span class="op">=</span> <span class="st">"clipboard"</span>,
                                     sep <span class="op">=</span> <span class="st">"t"</span>,           <span class="co"># separator could be tab, or commas, etc.</span>
                                     header<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span>         <span class="co"># if there is a header row</span></code></pre></div>
<!-- ======================================================= -->
</div>
</div>
<div id="rdata-files" class="section level2" number="1.9">
<h2>
<span class="header-section-number">1.9</span> Rdata files<a class="anchor" aria-label="anchor" href="#rdata-files"><i class="fas fa-link"></i></a>
</h2>
<p><code>.Rdata</code> files store R objects, and can actually store multiple R objects within one file, for example multiple dataframes, model results, lists, etc. This can be very useful to consolidate or share your data.</p>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">rio</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/rio/man/export.html">export</a></span><span class="op">(</span><span class="va">my_list</span>, <span class="va">my_dataframe</span>, <span class="va">my_vector</span>, <span class="st">"my_objects.Rdata"</span><span class="op">)</span></code></pre></div>
<p>If you have a list and you want it to be imported with the original structure (e.g. list of lists), use <code><a href="https://rdrr.io/pkg/rio/man/import_list.html">import_list()</a></code>:</p>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">rio</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/rio/man/import_list.html">import_list</a></span><span class="op">(</span><span class="st">"my_list_of_lists.Rdata"</span><span class="op">)</span></code></pre></div>
<!-- ======================================================= -->
</div>
<div id="export" class="section level2" number="1.10">
<h2>
<span class="header-section-number">1.10</span> Export<a class="anchor" aria-label="anchor" href="#export"><i class="fas fa-link"></i></a>
</h2>
<p>With <strong>rio</strong>, you can use the <code><a href="https://rdrr.io/pkg/rio/man/export.html">export()</a></code> function in a very similar way to <code><a href="https://rdrr.io/pkg/rio/man/import.html">import()</a></code>. First give the name of the R object you want to save (e.g. <code>linelist</code>) and then in quote the filepath including name and file extension. For example:</p>
<div class="sourceCode" id="cb26"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/pkg/rio/man/export.html">export</a></span><span class="op">(</span><span class="va">linelist</span>, <span class="st">"my_linelist.xlsx"</span><span class="op">)</span> <span class="co"># will save to working directory</span></code></pre></div>
<p>You could save the same dataframe as a .csv, and to a folder specified by <strong>here</strong> relative pathway:</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb27-1"><a href="importing-and-exporting.html#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="fu">export</span>(linelist, <span class="fu">here</span>(<span class="st">"data"</span>,<span class="st">"clean"</span>, <span class="st">"my_linelist.csv"</span>)</span></code></pre></div>
<div id="rds-files" class="section level3 unnumbered">
<h3>RDS files<a class="anchor" aria-label="anchor" href="#rds-files"><i class="fas fa-link"></i></a>
</h3>
<p>You can also export/save R dataframes as .rds files. The convenient thing about these is that classes of columns are retained, so you have less cleaning to do when importing than with an Excel or even a CSV file.</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb28-1"><a href="importing-and-exporting.html#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="fu">export</span>(linelist, <span class="fu">here</span>(<span class="st">"data"</span>,<span class="st">"clean"</span>, <span class="st">"my_linelist.rds"</span>)</span></code></pre></div>

</div>
</div>
</div>
  <div class="chapter-nav">
<div class="prev"><a href="index.html">Welcome - THIS IS A DRAFT</a></div>
<div class="empty"></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#importing-and-exporting"><span class="header-section-number">1</span> Importing and exporting</a></li>
<li><a class="nav-link" href="#overview"><span class="header-section-number">1.1</span> Overview</a></li>
<li><a class="nav-link" href="#the-rio-package"><span class="header-section-number">1.2</span> The rio package</a></li>
<li><a class="nav-link" href="#here"><span class="header-section-number">1.3</span> Relative filepaths (here())</a></li>
<li>
<a class="nav-link" href="#importing"><span class="header-section-number">1.4</span> Importing</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#import-from-filepath">Import from filepath</a></li>
<li><a class="nav-link" href="#excel-sheet">Excel sheet</a></li>
<li><a class="nav-link" href="#select-file-manually">Select file manually</a></li>
</ul>
</li>
<li><a class="nav-link" href="#google-sheets"><span class="header-section-number">1.5</span> Google sheets</a></li>
<li><a class="nav-link" href="#websites"><span class="header-section-number">1.6</span> Websites</a></li>
<li>
<a class="nav-link" href="#skip-rows"><span class="header-section-number">1.7</span> Skip rows</a><ul class="nav navbar-nav"><li><a class="nav-link" href="#removing-a-second-header-row"><span class="header-section-number">1.7.1</span> Removing a second header row</a></li></ul>
</li>
<li>
<a class="nav-link" href="#manual-data-entry"><span class="header-section-number">1.8</span> Manual data entry</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#entry-by-columns"><span class="header-section-number">1.8.1</span> Entry by columns</a></li>
<li><a class="nav-link" href="#entry-by-rows"><span class="header-section-number">1.8.2</span> Entry by rows</a></li>
<li><a class="nav-link" href="#pasting-from-clipboard"><span class="header-section-number">1.8.3</span> Pasting from clipboard</a></li>
</ul>
</li>
<li><a class="nav-link" href="#rdata-files"><span class="header-section-number">1.9</span> Rdata files</a></li>
<li>
<a class="nav-link" href="#export"><span class="header-section-number">1.10</span> Export</a><ul class="nav navbar-nav"><li><a class="nav-link" href="#rds-files">RDS files</a></li></ul>
</li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
          
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>R Handbook for Epidemiologists</strong>" was written by the handbook team. It was last built on 2021-02-20.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer>
</body>
</html>
